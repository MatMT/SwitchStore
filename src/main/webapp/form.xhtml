<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:p="http://primefaces.org/ui"
>

<h:head>
    <title>Formulario de Estudiantes</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <h:outputStylesheet name="primeicons/primeicons.css" library="primefaces"/>
</h:head>

<h:body styleClass="container">
    <div class="card">
        <h1>#{estudiantesBean.isEditing ? 'Editar Estudiante' : 'Crear Estudiante'}</h1>
        <p:divider/>
        <h:form id="estudianteForm">
            <p:panel>
                <h:panelGroup rendered="#{estudiantesBean.isEditing}">
                    <div class="field p-2">
                        <p:outputLabel for="id" value="ID:"/>
                        <p:inputText style="width: 100%" id="id" value="#{estudiantesBean.estudiante.id}" readonly="true"/>
                    </div>
                </h:panelGroup>
                <div class="field p-2">
                <div class="d-flex justify-content-between p-2">
                    <p:outputLabel for="dui" value="DUI:"/>
                    <p:message for="dui"/>
                </div>
                    <p:inputText style="width: 100%" id="dui" value="#{estudiantesBean.estudiante.dui}" required="true"/>
                </div>
                <div class=" p-2">
                <div class="d-flex justify-content-between p-2">
                    <p:outputLabel for="nombreCompleto" value="Nombre Completo:"/>
                    <p:message for="nombreCompleto"/>
                </div>
                    <p:inputText style="width: 100%" id="nombreCompleto" value="#{estudiantesBean.estudiante.nombreCompleto}"
                                 required="true"/>
                </div>
                <div class="field p-2">
                <div class="d-flex justify-content-between p-2">
                    <p:outputLabel for="direccion" value="Dirección:"/>
                    <p:message for="direccion"/>
                </div>
                    <p:inputTextarea style="width: 100%" id="direccion" value="#{estudiantesBean.estudiante.direccion}" required="true"
                                     rows="3"/>
                </div>
                <div class="field p-2">
                <div class="d-flex justify-content-between p-2">
                    <p:outputLabel for="email" value="Email:"/>
                    <p:message for="email"/>
                </div>
                    <p:inputText style="width: 100%" id="email" value="#{estudiantesBean.estudiante.email}" required="true"/>
                </div>
                <div class="field p-2">
                <div class="d-flex justify-content-between p-2 ">
                    <p:outputLabel for="fechaNacimiento" value="Fecha de Nacimiento:"/>
                    <p:message for="fechaNacimiento"/>
                </div>
                    <p:inputText id="fechaNacimiento" value="#{estudiantesBean.estudiante.fechaNacimiento}"
                                 required="true" placeholder="yyyy-MM-dd">
                        <f:validateRegex pattern="^\d{4}-\d{2}-\d{2}$"/>
                    </p:inputText>
                </div>
                <div class="field p-2">
                <div class="d-flex justify-content-between p-2" >
                    <p:outputLabel for="telefono" value="Teléfono:"/>
                    <p:message for="telefono"/>
                </div>

                    <p:inputText style="width: 100%" id="telefono" value="#{estudiantesBean.estudiante.telefono}" required="true"/>
                </div>
                <div class="field p-2">
                <div class="d-flex justify-content-between p-2">
                    <p:outputLabel for="sexo" value="Sexo:"/>
                    <p:message for="sexo"/>
                </div>

                    <p:selectOneMenu style="width: 100%" id="sexo" value="#{estudiantesBean.estudiante.sexo}" required="true">
                        <f:selectItem itemLabel="Selecciona" itemValue="" itemDisabled="true"/>
                        <f:selectItem itemLabel="Masculino" itemValue="Masculino"/>
                        <f:selectItem itemLabel="Femenino" itemValue="Femenino"/>
                    </p:selectOneMenu>
                </div>

                <f:facet name="footer">
                    <div class="d-flex justify-content-between p-2">
                        <h:commandButton value="#{estudiantesBean.isEditing ? 'Actualizar' : 'Crear'}" action="#{estudiantesBean.createEstudiante}"
                                         class="btn btn-primary"/>

                        <h:commandLink value="Atrás" action="#{estudiantesBean.goBack}" styleClass="btn btn-secondary ms-2" immediate="true"/>
                    </div>
                </f:facet>
            </p:panel>
        </h:form>
    </div>
</h:body>
</html>